"use strict";(self["webpackChunkchartjs_annotation"]=self["webpackChunkchartjs_annotation"]||[]).push([[860],{9860:function(t,a,e){e.r(a),e.d(a,{default:function(){return D}});var i,o,r=function(){var t=this,a=t._self._c;return a("div",[a("h1",[t._v("03")]),a("button",{on:{click:function(a){return t.refreshChartHandler()}}},[t._v("刷新")]),a("button",{on:{click:function(a){return t.showChartHandler()}}},[t._v("顯示/關閉")]),a("button",{on:{click:function(a){return t.getTestData()}}},[t._v("call api")]),a("button",{on:{click:function(a){return t.xlableHandler()}}},[t._v("更新x軸")]),t.showChart?a("div",{staticClass:"chart_wrap"},[a("Chart",{ref:"chart",attrs:{apiData:t.apiData,xlabels:t.xlabels}})],1):t._e()])},s=[],n=(e(4114),e(6735)),l=e(8130),d=e.n(l),h={extends:n.N1,props:["apiData","xlabels"],data:()=>({chartdata:{labels:["22:00","23:00",["00:00","12/14"],"01:00","02:00","03:00","04:00","05:00","06:00","07:00"],datasets:[{label:"表1",backgroundColor:"#38a",borderColor:"#38a",data:[],fill:!1,yAxisID:"chart_1",lineTension:0,borderWidth:1},{label:"表2",backgroundColor:"#fa0",borderColor:"#fa0",data:[],fill:!1,yAxisID:"chart_1",lineTension:0,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,elements:{point:{radius:0}},title:{display:!1,text:"標題標題",fontColor:"#fff",fontSize:40,position:"bottom"},legend:{display:!1,position:"top",align:"end",labels:{fontColor:"#fff",fontSize:24}},scales:{yAxes:[{id:"chart_1",ticks:{display:!0,fontColor:"#333",fontSize:18,beginAtZero:!0},gridLines:{display:!0,color:"#ccc"},scaleLabel:{display:!1,labelString:"溫度",fontColor:"#333",fontSize:20},position:"left"}],xAxes:[{ticks:{fontColor:"#333",fontSize:18,maxTicksLimit:24},gridLines:{display:!0,color:"#ccc"},scaleLabel:{display:!1,labelString:"時間",fontColor:"#333",fontSize:20}}]},tooltips:{mode:"index",intersect:!1,backgroundColor:"#ff00ff90",caretSize:15,titleFontSize:16,bodyFontSize:22},annotation:{drawTime:"afterDraw",annotations:[{id:"temperature-line",drawTime:"afterDatasetsDraw",type:"line",mode:"horizontal",scaleID:"chart_1",value:26,borderColor:"#f00",borderWidth:3,label:{enabled:!0,content:"悶熱",position:"right",backgroundColor:"#911A28",fontSize:14,xPadding:20,yPadding:10,yAdjust:-25,xAdjust:0}},{id:"temperature-line2",drawTime:"afterDatasetsDraw",type:"line",mode:"horizontal",scaleID:"chart_1",value:20,borderColor:"#A0D19A",borderWidth:3,label:{enabled:!0,content:"舒適",position:"right",backgroundColor:"#618275",fontSize:14,xPadding:20,yPadding:10,yAdjust:-25,xAdjust:0}}]},plugins:{crosshair:{line:{color:"#f33",width:1},sync:{enabled:!1},zoom:{enabled:!1}}}}}),created(){},mounted(){this.getFatherData(),this.addPlugin(d());const t=JSON.parse(JSON.stringify(this.options));this.renderChart(this.chartdata,t)},computed:{},methods:{reRender(){const t=JSON.parse(JSON.stringify(this.options));this.renderChart(this.chartdata,t)},getFatherData(){console.log("this.apiData",this.apiData),0!=this.apiData.length&&(this.chartdata.datasets[0].data=this.apiData[0].dataArr,this.chartdata.datasets[1].data=this.apiData[1].dataArr),this.chartdata.labels=this.xlabels},setXaxis(){this.chartdata.labels=this.xlabels}}},c=h,f=e(1656),p=(0,f.A)(c,i,o,!1,null,"4be545cf",null),b=p.exports,u=e(4373),g={components:{Chart:b},created(){this.xlableHandler()},mounted(){this.getTestData()},data(){return{showChart:!0,apiData:[],xlabels:[]}},methods:{async getTestData(){const t="http://localhost:3000/testData",a=await u.A.post(t,{});console.log("父層call api=>",a),this.apiData=await a.data.dataList,this.$refs.chart.getFatherData(),this.showChart=!1,setTimeout((()=>{this.showChart=!0}),10)},showChartHandler(){this.showChart=!this.showChart},refreshChartHandler(){this.$refs.chart.reRender()},xlableHandler(){this.xlabels=[];for(let t=0;t<481;t++){const t=Math.random().toString(36).substring(2,4);this.xlabels.push(t)}}}},C=g,x=(0,f.A)(C,r,s,!1,null,"e35f5ae0",null),D=x.exports}}]);
//# sourceMappingURL=860.4fb3e767.js.map