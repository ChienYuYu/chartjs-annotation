{"version":3,"file":"js/860.4fb3e767.js","mappings":"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","sources":["webpack://chartjs-annotation/./src/views/sample03/index.vue","webpack://chartjs-annotation/./src/views/sample03/chart.vue","webpack://chartjs-annotation/src/views/sample03/chart.vue","webpack://chartjs-annotation/./src/views/sample03/chart.vue?fe11","webpack://chartjs-annotation/src/views/sample03/index.vue","webpack://chartjs-annotation/./src/views/sample03/index.vue?c7f2","webpack://chartjs-annotation/./src/views/sample03/index.vue?b727"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',[_vm._v(\"03\")]),_c('button',{on:{\"click\":function($event){return _vm.refreshChartHandler()}}},[_vm._v(\"刷新\")]),_c('button',{on:{\"click\":function($event){return _vm.showChartHandler()}}},[_vm._v(\"顯示/關閉\")]),_c('button',{on:{\"click\":function($event){return _vm.getTestData()}}},[_vm._v(\"call api\")]),_c('button',{on:{\"click\":function($event){return _vm.xlableHandler()}}},[_vm._v(\"更新x軸\")]),(_vm.showChart)?_c('div',{staticClass:\"chart_wrap\"},[_c('Chart',{ref:\"chart\",attrs:{\"apiData\":_vm.apiData,\"xlabels\":_vm.xlabels}})],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./chart.vue?vue&type=script&lang=js\"\nexport * from \"./chart.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4be545cf\",\n  null\n  \n)\n\nexport default component.exports","<!-- eslint-disable vue/multi-word-component-names -->\r\n<script>\r\nimport { Line } from 'vue-chartjs'\r\nimport ChartAnnotation from 'chartjs-plugin-annotation';\r\n\r\nexport default {\r\n  extends: Line,\r\n  props: ['apiData', 'xlabels'],\r\n  data: () => ({\r\n    chartdata: {\r\n      labels: ['22:00','23:00',['00:00', '12/14'],'01:00','02:00','03:00','04:00','05:00','06:00','07:00'],\r\n      datasets: [\r\n        {\r\n          label: '表1',\r\n          backgroundColor: '#38a',\r\n          borderColor: '#38a',\r\n          data:[],\r\n          fill: false,\r\n          yAxisID: 'chart_1',\r\n          lineTension: 0, // 設置為0以禁用曲線\r\n          borderWidth: 1,\r\n        },\r\n        {\r\n          label: '表2',\r\n          backgroundColor: '#fa0',\r\n          borderColor: '#fa0',\r\n          data:[],\r\n          fill: false,\r\n          yAxisID: 'chart_1',\r\n          lineTension: 0, // 設置為0以禁用曲線\r\n          borderWidth: 1,\r\n        },\r\n      ]\r\n    },\r\n    options: {\r\n      responsive: true, // 預設true\r\n      maintainAspectRatio: false, // 預設false\r\n      elements: {\r\n        point: {\r\n          radius: 0 // 圓點尺寸 / 0=沒有圓點\r\n        }\r\n      },\r\n      title:{\r\n        display: false,\r\n        text: '標題標題',\r\n        fontColor: '#fff',\r\n        fontSize: 40,\r\n        position: 'bottom',\r\n      },\r\n      legend: { //標籤\r\n        display: false,\r\n        position: 'top',\r\n        align: 'end',\r\n        labels: {\r\n          fontColor: '#fff',\r\n          fontSize: 24,\r\n        }\r\n      },\r\n      scales : {\r\n        yAxes:[{\r\n          id: 'chart_1',\r\n          ticks: { // y軸文字\r\n            display: true,\r\n            fontColor: \"#333\",\r\n            fontSize: 18,\r\n            beginAtZero: true, // ??? \r\n            // fixedStepSize: 10, // 設置固定的步長\r\n          },\r\n          gridLines: { // y軸網格線\r\n            display: true,\r\n            color: \"#ccc\"\r\n          },\r\n          scaleLabel: {\r\n            display: false,\r\n            labelString: '溫度',\r\n            fontColor: '#333',\r\n            fontSize: 20\r\n          },\r\n          position: 'left',\r\n        }],\r\n        xAxes:[{\r\n          ticks: { // x軸文字\r\n            fontColor: \"#333\",\r\n            fontSize: 18,\r\n            // autoSkip: true,\r\n            maxTicksLimit: 24, // x軸總共秀幾個item\r\n          },\r\n          gridLines: { //x軸網格線\r\n            display: true,\r\n            color: \"#ccc\"\r\n          },\r\n          scaleLabel: {\r\n            display: false,\r\n            labelString: '時間',\r\n            fontColor: '#333',\r\n            fontSize: 20\r\n          },\r\n        }],\r\n      },\r\n      tooltips: { // hover視窗\r\n        // mode: 'interpolate',\r\n        mode: 'index',\r\n        intersect: false,\r\n        backgroundColor: '#ff00ff90',\r\n        caretSize: 15, // 箭頭尺寸\r\n        titleFontSize: 16,\r\n        bodyFontSize: 22\r\n      },\r\n      annotation: {\r\n        drawTime: \"afterDraw\",\r\n        annotations: [\r\n          {\r\n            id: 'temperature-line',\r\n            drawTime: \"afterDatasetsDraw\",\r\n            type: 'line',\r\n            mode: 'horizontal',\r\n            scaleID: 'chart_1',\r\n            value: 26,\r\n            borderColor: '#f00',\r\n            borderWidth: 3,\r\n            label: {\r\n              enabled: true,\r\n              content: '悶熱',\r\n              position: 'right',\r\n              backgroundColor: '#911A28',\r\n              fontSize: 14,\r\n              xPadding: 20,\r\n              yPadding: 10,\r\n              yAdjust: -25,\r\n              xAdjust: 0,\r\n            }\r\n          },\r\n          {\r\n            id: 'temperature-line2',\r\n            drawTime: \"afterDatasetsDraw\",\r\n            type: 'line',\r\n            mode: 'horizontal',\r\n            scaleID: 'chart_1',\r\n            value: 20,\r\n            borderColor: '#A0D19A',\r\n            borderWidth: 3,\r\n            label: {\r\n              enabled: true,\r\n              content: '舒適',\r\n              position: 'right',\r\n              backgroundColor: '#618275',\r\n              fontSize: 14,\r\n              xPadding: 20,\r\n              yPadding: 10,\r\n              yAdjust: -25,\r\n              xAdjust: 0,\r\n            }\r\n          },\r\n        ]\r\n      },\r\n      plugins: {\r\n        crosshair: {\r\n          line: {\r\n            color: '#f33',\r\n            width: 1\r\n          },\r\n          sync: {\r\n            enabled: false,\r\n          },\r\n          zoom: {\r\n            enabled: false,\r\n          },\r\n        },\r\n      },\r\n    },\r\n  }),\r\n\r\n  created() {\r\n  },\r\n  mounted () {\r\n    this.getFatherData();\r\n    this.addPlugin(ChartAnnotation);\r\n\r\n    // 深拷貝 options 以避免引用問題 // 解決annotations label文字沒出現\r\n    const optionsCopy = JSON.parse(JSON.stringify(this.options)); \r\n    this.renderChart(this.chartdata, optionsCopy);\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    reRender() {\r\n      const optionsCopy = JSON.parse(JSON.stringify(this.options));\r\n      this.renderChart(this.chartdata, optionsCopy);\r\n    },\r\n    getFatherData() {\r\n      console.log('this.apiData', this.apiData);\r\n      if(this.apiData.length != 0) {\r\n        this.chartdata.datasets[0].data = this.apiData[0].dataArr;\r\n        this.chartdata.datasets[1].data = this.apiData[1].dataArr;\r\n      }\r\n      this.chartdata.labels = this.xlabels;\r\n      \r\n    },\r\n    setXaxis() {\r\n      this.chartdata.labels = this.xlabels;\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./chart.vue?vue&type=script&lang=js\"","<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n  <div>\r\n    <h1>03</h1>\r\n    <button @click=\"refreshChartHandler()\">刷新</button>\r\n    <button @click=\"showChartHandler()\">顯示/關閉</button>\r\n    <button @click=\"getTestData()\">call api</button>\r\n    <button @click=\"xlableHandler()\">更新x軸</button>\r\n    <div class=\"chart_wrap\" v-if=\"showChart\">\r\n      <Chart :apiData=\"apiData\"  :xlabels=\"xlabels\" ref=\"chart\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Chart from './chart.vue';\r\n  import axios from 'axios';\r\n  // http://localhost:3000/testData\r\n  export default {\r\n    components: { Chart }, \r\n    created() {\r\n      this.xlableHandler();\r\n    },\r\n    mounted() {\r\n      this.getTestData();\r\n    },\r\n    data() {\r\n      return {\r\n        showChart: true,\r\n        apiData: [],\r\n        xlabels: [],\r\n      }\r\n    },\r\n    methods:{\r\n      async getTestData() {\r\n        const url = \"http://localhost:3000/testData\";\r\n        const res = await axios.post(url, {})\r\n        console.log('父層call api=>', res);\r\n        this.apiData = await res.data.dataList;\r\n        \r\n        this.$refs.chart.getFatherData();\r\n        this.showChart = false;\r\n        setTimeout(() => {\r\n          this.showChart = true;\r\n        },10)\r\n      },\r\n      showChartHandler() {\r\n        this.showChart = !this.showChart;\r\n      },\r\n      refreshChartHandler() {\r\n        this.$refs.chart.reRender();\r\n      },\r\n\r\n      // xlableHandler() {\r\n      //   this.xlabels = [];\r\n      //   for(let i = 0; i<481; i++) {\r\n      //     this.xlabels.push(i);\r\n      //   }\r\n      // },\r\n      xlableHandler() { // 隨機481個字元(長度2)\r\n        this.xlabels = []; \r\n        for (let i = 0; i < 481; i++) { \r\n          const randomString = Math.random().toString(36).substring(2, 4); \r\n          this.xlabels.push(randomString); \r\n        } \r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .chart_wrap{\r\n    width: 1000px;\r\n    height: 500px;\r\n    margin: 0 auto;\r\n    // border: 1px solid #333;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e35f5ae0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e35f5ae0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e35f5ae0\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","_v","on","$event","refreshChartHandler","showChartHandler","getTestData","xlableHandler","showChart","staticClass","ref","attrs","apiData","xlabels","_e","staticRenderFns","extends","Line","props","data","chartdata","labels","datasets","label","backgroundColor","borderColor","fill","yAxisID","lineTension","borderWidth","options","responsive","maintainAspectRatio","elements","point","radius","title","display","text","fontColor","fontSize","position","legend","align","scales","yAxes","id","ticks","beginAtZero","gridLines","color","scaleLabel","labelString","xAxes","maxTicksLimit","tooltips","mode","intersect","caretSize","titleFontSize","bodyFontSize","annotation","drawTime","annotations","type","scaleID","value","enabled","content","xPadding","yPadding","yAdjust","xAdjust","plugins","crosshair","line","width","sync","zoom","created","mounted","getFatherData","addPlugin","ChartAnnotation","optionsCopy","JSON","parse","stringify","renderChart","computed","methods","reRender","console","log","length","dataArr","setXaxis","component","components","Chart","url","res","axios","post","dataList","$refs","chart","setTimeout","i","randomString","Math","random","toString","substring","push"],"sourceRoot":""}